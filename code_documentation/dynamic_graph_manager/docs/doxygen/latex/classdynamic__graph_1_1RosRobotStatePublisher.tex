\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher}{}\section{dynamic\+\_\+graph\+:\+:Ros\+Robot\+State\+Publisher Class Reference}
\label{classdynamic__graph_1_1RosRobotStatePublisher}\index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}


This class define a dynamic graph wrapper around the vicon client.  




{\ttfamily \#include $<$ros\+\_\+robot\+\_\+state\+\_\+publisher.\+hpp$>$}



Inheritance diagram for dynamic\+\_\+graph\+:\+:Ros\+Robot\+State\+Publisher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{classdynamic__graph_1_1RosRobotStatePublisher__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for dynamic\+\_\+graph\+:\+:Ros\+Robot\+State\+Publisher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{classdynamic__graph_1_1RosRobotStatePublisher__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries Ros\+Robot\+State\+Publisher} (const std\+::string \&name)\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a7dbda339acfbacd6c2f45e7aac4409be}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a7dbda339acfbacd6c2f45e7aac4409be}

\item 
void \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a92094934e53306e73b6fc13d1de61b3d}{add} (const std\+::string \&base\+\_\+link\+\_\+name, const std\+::string \&joint\+\_\+names, const std\+::string \&tf\+\_\+prefix, const std\+::string \&signal\+\_\+name, const std\+::string \&joint\+\_\+state\+\_\+topic\+\_\+name)
\item 
int \& \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a4d66defbd1b308cd06394107f55f6cbb}{trigger} (int \&, int)
\begin{DoxyCompactList}\small\item\em Trigger the publishing of the data to ros for all signals. \end{DoxyCompactList}\item 
void \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a196621509ce1e5becada60a7093bcb3a}{send\+\_\+data} (const \hyperlink{structdynamic__graph_1_1RosRobotStatePublisherInternal}{Ros\+Robot\+State\+Publisher\+Internal} \&publisher, int time)\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a196621509ce1e5becada60a7093bcb3a}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a196621509ce1e5becada60a7093bcb3a}

\begin{DoxyCompactList}\small\item\em Signal callback functions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual const std\+::string \& \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_ad71cb08409f890ba45d6afd25e284341}{get\+Class\+Name} (void) const 
\begin{DoxyCompactList}\small\item\em Get the C\+L\+A\+S\+S\+\_\+\+N\+A\+ME object. \end{DoxyCompactList}\item 
void \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_af3e0cfe13273ecd8c6e01b59bb6220e7}{set\+\_\+tf\+\_\+msg\+\_\+to\+\_\+identity} (geometry\+\_\+msgs\+::\+Transform\+Stamped \&msg)
\begin{DoxyCompactList}\small\item\em Set a tf msg to identity. \end{DoxyCompactList}\item 
void \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_acb4e771801c5bc13c7a2b022c3dd6b9d}{normalize\+\_\+tf\+\_\+msg\+\_\+quaternion} (geometry\+\_\+msgs\+::\+Transform\+Stamped \&msg)
\begin{DoxyCompactList}\small\item\em Normalize the tf message quaternion before sending it to the. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespacedynamic__graph_a9d80c350c95e161319d7a6e629ecdc4b}{Signal\+O\+UT} \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a175914c0624474d019cb1360fa9c14e4}{trigger\+\_\+signal\+\_\+}
\begin{DoxyCompactList}\small\item\em Create an internal output signal which should be call periodically in the device in order to publish the data. \end{DoxyCompactList}\item 
ros\+::\+Node\+Handle \& \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a5b494e473d93118cb69320c01dfd772c}{ros\+\_\+node\+\_\+handle\+\_\+}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a5b494e473d93118cb69320c01dfd772c}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a5b494e473d93118cb69320c01dfd772c}

\begin{DoxyCompactList}\small\item\em Ros node handle corresponding to the dynamic graph process node handle. \end{DoxyCompactList}\item 
std\+::map$<$ std\+::string, \hyperlink{structdynamic__graph_1_1RosRobotStatePublisherInternal}{Ros\+Robot\+State\+Publisher\+Internal} $>$ \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a556fe3ed8d7c0786e0d6aad4cbb415db}{publishers\+\_\+}
\begin{DoxyCompactList}\small\item\em This is the list of publishers registered for this class. \end{DoxyCompactList}\item 
ros\+::\+Duration \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_af638eb336998964161a89e4ce76821d1}{rate\+\_\+}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_af638eb336998964161a89e4ce76821d1}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_af638eb336998964161a89e4ce76821d1}

\begin{DoxyCompactList}\small\item\em manage the rate data publication in topics \end{DoxyCompactList}\item 
ros\+::\+Time \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a000e917f448ac480bfc8b2559d41a4b5}{last\+\_\+time\+\_\+of\+\_\+publication\+\_\+}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a000e917f448ac480bfc8b2559d41a4b5}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a000e917f448ac480bfc8b2559d41a4b5}

\begin{DoxyCompactList}\small\item\em Check at what time the publication was done. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const std\+::string \hyperlink{classdynamic__graph_1_1RosRobotStatePublisher_a3794be6383ba4bc9a7412218a755f524}{C\+L\+A\+S\+S\+\_\+\+N\+A\+ME}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a3794be6383ba4bc9a7412218a755f524}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a3794be6383ba4bc9a7412218a755f524}

\begin{DoxyCompactList}\small\item\em The class name used to identify it in the dynamic graph pool. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class define a dynamic graph wrapper around the vicon client. 

\subsection{Member Function Documentation}
\index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}!add@{add}}
\index{add@{add}!dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}
\subsubsection[{\texorpdfstring{add(const std\+::string \&base\+\_\+link\+\_\+name, const std\+::string \&joint\+\_\+names, const std\+::string \&tf\+\_\+prefix, const std\+::string \&signal\+\_\+name, const std\+::string \&joint\+\_\+state\+\_\+topic\+\_\+name)}{add(const std::string &base_link_name, const std::string &joint_names, const std::string &tf_prefix, const std::string &signal_name, const std::string &joint_state_topic_name)}}]{\setlength{\rightskip}{0pt plus 5cm}void dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher\+::add (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{base\+\_\+link\+\_\+name, }
\item[{const std\+::string \&}]{joint\+\_\+names, }
\item[{const std\+::string \&}]{tf\+\_\+prefix, }
\item[{const std\+::string \&}]{signal\+\_\+name, }
\item[{const std\+::string \&}]{joint\+\_\+state\+\_\+topic\+\_\+name}
\end{DoxyParamCaption}
)}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a92094934e53306e73b6fc13d1de61b3d}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a92094934e53306e73b6fc13d1de61b3d}

\begin{DoxyParams}{Parameters}
{\em base\+\_\+link\+\_\+name} & \\
\hline
{\em joint\+\_\+names} & \\
\hline
{\em tf\+\_\+prefix} & \\
\hline
{\em signal\+\_\+name} & \\
\hline
\end{DoxyParams}
\index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}!get\+Class\+Name@{get\+Class\+Name}}
\index{get\+Class\+Name@{get\+Class\+Name}!dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}
\subsubsection[{\texorpdfstring{get\+Class\+Name(void) const }{getClassName(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}virtual const std\+::string\& dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher\+::get\+Class\+Name (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_ad71cb08409f890ba45d6afd25e284341}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_ad71cb08409f890ba45d6afd25e284341}


Get the C\+L\+A\+S\+S\+\_\+\+N\+A\+ME object. 

\begin{DoxyReturn}{Returns}
const std\+::string\& 
\end{DoxyReturn}
\index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}!normalize\+\_\+tf\+\_\+msg\+\_\+quaternion@{normalize\+\_\+tf\+\_\+msg\+\_\+quaternion}}
\index{normalize\+\_\+tf\+\_\+msg\+\_\+quaternion@{normalize\+\_\+tf\+\_\+msg\+\_\+quaternion}!dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}
\subsubsection[{\texorpdfstring{normalize\+\_\+tf\+\_\+msg\+\_\+quaternion(geometry\+\_\+msgs\+::\+Transform\+Stamped \&msg)}{normalize_tf_msg_quaternion(geometry_msgs::TransformStamped &msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher\+::normalize\+\_\+tf\+\_\+msg\+\_\+quaternion (
\begin{DoxyParamCaption}
\item[{geometry\+\_\+msgs\+::\+Transform\+Stamped \&}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_acb4e771801c5bc13c7a2b022c3dd6b9d}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_acb4e771801c5bc13c7a2b022c3dd6b9d}


Normalize the tf message quaternion before sending it to the. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em } & \\
\hline
\end{DoxyParams}
\index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}!set\+\_\+tf\+\_\+msg\+\_\+to\+\_\+identity@{set\+\_\+tf\+\_\+msg\+\_\+to\+\_\+identity}}
\index{set\+\_\+tf\+\_\+msg\+\_\+to\+\_\+identity@{set\+\_\+tf\+\_\+msg\+\_\+to\+\_\+identity}!dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}
\subsubsection[{\texorpdfstring{set\+\_\+tf\+\_\+msg\+\_\+to\+\_\+identity(geometry\+\_\+msgs\+::\+Transform\+Stamped \&msg)}{set_tf_msg_to_identity(geometry_msgs::TransformStamped &msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher\+::set\+\_\+tf\+\_\+msg\+\_\+to\+\_\+identity (
\begin{DoxyParamCaption}
\item[{geometry\+\_\+msgs\+::\+Transform\+Stamped \&}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_af3e0cfe13273ecd8c6e01b59bb6220e7}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_af3e0cfe13273ecd8c6e01b59bb6220e7}


Set a tf msg to identity. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em } & \\
\hline
\end{DoxyParams}
\index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}!trigger@{trigger}}
\index{trigger@{trigger}!dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}
\subsubsection[{\texorpdfstring{trigger(int \&, int)}{trigger(int &, int)}}]{\setlength{\rightskip}{0pt plus 5cm}int \& dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher\+::trigger (
\begin{DoxyParamCaption}
\item[{int \&}]{dummy, }
\item[{int}]{time}
\end{DoxyParamCaption}
)}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a4d66defbd1b308cd06394107f55f6cbb}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a4d66defbd1b308cd06394107f55f6cbb}


Trigger the publishing of the data to ros for all signals. 

\begin{DoxyReturn}{Returns}
int\& dummy stuff. 
\end{DoxyReturn}


\subsection{Member Data Documentation}
\index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}!publishers\+\_\+@{publishers\+\_\+}}
\index{publishers\+\_\+@{publishers\+\_\+}!dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}
\subsubsection[{\texorpdfstring{publishers\+\_\+}{publishers_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$std\+::string, {\bf Ros\+Robot\+State\+Publisher\+Internal}$>$ dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher\+::publishers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a556fe3ed8d7c0786e0d6aad4cbb415db}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a556fe3ed8d7c0786e0d6aad4cbb415db}


This is the list of publishers registered for this class. 

It correspond to the list of robot states one wants to publish. See the add methode (Command) \index{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}!trigger\+\_\+signal\+\_\+@{trigger\+\_\+signal\+\_\+}}
\index{trigger\+\_\+signal\+\_\+@{trigger\+\_\+signal\+\_\+}!dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher@{dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher}}
\subsubsection[{\texorpdfstring{trigger\+\_\+signal\+\_\+}{trigger_signal_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Signal\+O\+UT} dynamic\+\_\+graph\+::\+Ros\+Robot\+State\+Publisher\+::trigger\+\_\+signal\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classdynamic__graph_1_1RosRobotStatePublisher_a175914c0624474d019cb1360fa9c14e4}{}\label{classdynamic__graph_1_1RosRobotStatePublisher_a175914c0624474d019cb1360fa9c14e4}


Create an internal output signal which should be call periodically in the device in order to publish the data. 

The callback function of this signal is the trigger methode. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/ros\+\_\+entities/\hyperlink{ros__robot__state__publisher_8hpp}{ros\+\_\+robot\+\_\+state\+\_\+publisher.\+hpp}\item 
src/ros\+\_\+entities/\hyperlink{ros__robot__state__publisher_8cpp}{ros\+\_\+robot\+\_\+state\+\_\+publisher.\+cpp}\end{DoxyCompactItemize}
