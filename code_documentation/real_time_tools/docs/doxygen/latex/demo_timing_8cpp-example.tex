\hypertarget{demo_timing_8cpp-example}{}\section{demo\+\_\+timing.\+cpp}
This demos has for purpose to present the class real\+\_\+time\+\_\+tools\+::\+Timer.\+This class allows you to use the real time clocks. And measure durations and extract statistics on them.

Inn this example we create a simple loop cadence by the \hyperlink{classreal__time__tools_1_1Spinner}{real\+\_\+time\+\_\+tools\+::\+Spinner}. And we measure the period of the loop.

In order to do so one need to create a \hyperlink{classreal__time__tools_1_1Timer}{real\+\_\+time\+\_\+tools\+::\+Timer} and call the \hyperlink{classreal__time__tools_1_1Timer_a310fc3b9165c3751a36ff92586f0facd}{real\+\_\+time\+\_\+tools\+::\+Timer\+::tac\+\_\+tic()} method which compute the duration between each call of this method.

The demo displays the statistics of the measured time every milliseconds.


\begin{DoxyCodeInclude}

\textcolor{preprocessor}{#include "\hyperlink{spinner_8hpp}{real\_time\_tools/spinner.hpp}"}
\textcolor{preprocessor}{#include "\hyperlink{thread_8hpp}{real\_time\_tools/thread.hpp}"}
\textcolor{preprocessor}{#include "\hyperlink{realtime__check_8hpp}{real\_time\_tools/realtime\_check.hpp}"}
\textcolor{preprocessor}{#include "\hyperlink{timer_8hpp}{real\_time\_tools/timer.hpp}"}

THREAD\_FUNCTION\_RETURN\_TYPE \hyperlink{demo__timing_8cpp_a16919b2a4211953c87d405d40b432427}{thread\_function}(\textcolor{keywordtype}{void}*)
\{

    \textcolor{keywordtype}{double} frequency = 1000;

    \hyperlink{classreal__time__tools_1_1Spinner}{real\_time\_tools::Spinner} spinner;
    spinner.\hyperlink{classreal__time__tools_1_1Spinner_afa4e24e5dbbbfa2e0d694ef2e3fa3bb8}{set\_frequency}(frequency);

    \hyperlink{classreal__time__tools_1_1Timer}{real\_time\_tools::Timer} timer;

    \textcolor{keywordflow}{while}(\textcolor{keyword}{true})
    \{
        \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < frequency; i++)
        \{
            spinner.\hyperlink{classreal__time__tools_1_1Spinner_aa07d4fa32ead44008daa73663508139d}{spin}();
            timer.\hyperlink{classreal__time__tools_1_1Timer_a310fc3b9165c3751a36ff92586f0facd}{tac\_tic}();
        \}

        timer.\hyperlink{classreal__time__tools_1_1Timer_a71a7ad376bbc8cf60cfb839fefe6f805}{print\_statistics}();
    \}

    \textcolor{keywordflow}{return} THREAD\_FUNCTION\_RETURN\_VALUE;
\}

\textcolor{keywordtype}{int} \hyperlink{demo__timing_8cpp_a81ce304348a420752ee080480d2b3095}{main}(\textcolor{keywordtype}{int} , \textcolor{keywordtype}{char}* []) \{
  \hyperlink{classreal__time__tools_1_1RealTimeThread}{real\_time\_tools::RealTimeThread} thread;
  thread.\hyperlink{classreal__time__tools_1_1RealTimeThread_a232e3955fee6e80c3a7ded68f165414b}{create\_realtime\_thread}(\hyperlink{demo__timing_8cpp_a16919b2a4211953c87d405d40b432427}{thread\_function});
  thread.\hyperlink{classreal__time__tools_1_1RealTimeThread_a2f455db9fd80b81e5e69cd22e8529979}{join}();
\}

\end{DoxyCodeInclude}
 