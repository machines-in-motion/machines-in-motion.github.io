\hypertarget{demo_checkpoint_timer_8cpp-example}{}\section{demo\+\_\+checkpoint\+\_\+timer.\+cpp}
Demo on how to use the Checkpoint\+Timer.\+Note that when the statistics are printed like this, the printing is included in the time measurement of the total loop duration.


\begin{DoxyCodeInclude}

\textcolor{preprocessor}{#include <\hyperlink{checkpoint__timer_8hpp}{real\_time\_tools/checkpoint\_timer.hpp}>}
\textcolor{preprocessor}{#include <\hyperlink{timer_8hpp}{real\_time\_tools/timer.hpp}>}


\textcolor{keywordtype}{void} \hyperlink{demo__checkpoint__timer_8cpp_a02fd73d861ef2e4aabb38c0c9ff82947}{init}()
\{
    \hyperlink{classreal__time__tools_1_1Timer_abb2ce808994282d63846e7fca544f818}{real\_time\_tools::Timer::sleep\_ms}(3);
\}
\textcolor{keywordtype}{void} \hyperlink{demo__checkpoint__timer_8cpp_acb546a895e868f1a8fb9cb4b5a210f42}{do\_some\_stuff}()
\{
    \hyperlink{classreal__time__tools_1_1Timer_abb2ce808994282d63846e7fca544f818}{real\_time\_tools::Timer::sleep\_ms}(20);
\}
\textcolor{keywordtype}{void} \hyperlink{demo__checkpoint__timer_8cpp_a609e6537df0c7eb15c1f5b4e02fbe0ed}{write\_log}()
\{
    \hyperlink{classreal__time__tools_1_1Timer_abb2ce808994282d63846e7fca544f818}{real\_time\_tools::Timer::sleep\_ms}(6);
\}

\textcolor{keywordtype}{int} \hyperlink{demo__checkpoint__timer_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}()
\{

    \textcolor{comment}{// set second template argument to false to disable timer}
    \hyperlink{classreal__time__tools_1_1CheckpointTimer}{real\_time\_tools::CheckpointTimer<3, true>} timer;

    \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 1000; i++)
    \{
        timer.\hyperlink{classreal__time__tools_1_1CheckpointTimer_ad93a12cb74103528c8db4e7b1745eae6}{start}();

        \hyperlink{demo__checkpoint__timer_8cpp_a02fd73d861ef2e4aabb38c0c9ff82947}{init}();
        timer.\hyperlink{classreal__time__tools_1_1CheckpointTimer_a6e91b61b72c433a220b1bddb7a634bf5}{checkpoint}(\textcolor{stringliteral}{"initialize"});

        \hyperlink{demo__checkpoint__timer_8cpp_acb546a895e868f1a8fb9cb4b5a210f42}{do\_some\_stuff}();
        timer.\hyperlink{classreal__time__tools_1_1CheckpointTimer_a6e91b61b72c433a220b1bddb7a634bf5}{checkpoint}(\textcolor{stringliteral}{"do some stuff"});

        \hyperlink{demo__checkpoint__timer_8cpp_a609e6537df0c7eb15c1f5b4e02fbe0ed}{write\_log}();
        timer.\hyperlink{classreal__time__tools_1_1CheckpointTimer_a6e91b61b72c433a220b1bddb7a634bf5}{checkpoint}(\textcolor{stringliteral}{"logging"});

        \textcolor{comment}{// print the timing results every 100 iterations}
        \textcolor{keywordflow}{if} (i % 100 == 0 && i > 0)
        \{
            timer.\hyperlink{classreal__time__tools_1_1CheckpointTimer_acce8c21123fe6f450c8f22de575cfef8}{print\_statistics}();
        \}
    \}

    \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCodeInclude}
 