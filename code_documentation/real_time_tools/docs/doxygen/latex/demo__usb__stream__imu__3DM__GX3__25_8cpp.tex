\hypertarget{demo__usb__stream__imu__3DM__GX3__25_8cpp}{}\section{demos/demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.cpp File Reference}
\label{demo__usb__stream__imu__3DM__GX3__25_8cpp}\index{demos/demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demos/demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}}


Testing imu connection directly via the drivers. See test\+\_\+interface in the same package for an example of the A\+PI.  


{\ttfamily \#include \char`\"{}real\+\_\+time\+\_\+tools/usb\+\_\+stream.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}real\+\_\+time\+\_\+tools/timer.\+hpp\char`\"{}}\\*
Include dependency graph for demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{demo__usb__stream__imu__3DM__GX3__25_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{demo__usb__stream__imu__3DM__GX3__25_8cpp_af411ef352aef0f8d040d8d60c49eac7a}{continuous\+\_\+mode\+\_\+on} (\hyperlink{classreal__time__tools_1_1UsbStream}{real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&usb\+\_\+stream, bool stream\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Send the message that set the imu into stream mode or not. \end{DoxyCompactList}\item 
bool \hyperlink{demo__usb__stream__imu__3DM__GX3__25_8cpp_a8a096d7f567dad6d28f0fd870ba6bb43}{is\+\_\+continuous\+\_\+mode\+\_\+on} (\hyperlink{classreal__time__tools_1_1UsbStream}{real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&usb\+\_\+stream, bool stream\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Check the mode of the imu. \end{DoxyCompactList}\item 
void \hyperlink{demo__usb__stream__imu__3DM__GX3__25_8cpp_a1d00f7ae49ec05ecaf8ecd4d76129573}{continuous\+\_\+mode\+\_\+off} (\hyperlink{classreal__time__tools_1_1UsbStream}{real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&usb\+\_\+stream, bool stream\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Set the imu into idle mode. \end{DoxyCompactList}\item 
void \hyperlink{demo__usb__stream__imu__3DM__GX3__25_8cpp_af04ed9328c659fc57f91d74cdeedda72}{reset} (\hyperlink{classreal__time__tools_1_1UsbStream}{real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&usb\+\_\+stream, bool stream\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Reset the imu. \end{DoxyCompactList}\item 
int \hyperlink{demo__usb__stream__imu__3DM__GX3__25_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Example on how to use the usb interface using an imu. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Testing imu connection directly via the drivers. See test\+\_\+interface in the same package for an example of the A\+PI. 

\begin{DoxyAuthor}{Author}
Vincent Berenz (\href{mailto:vincent.brenz@tuebingen.mpg.de}{\tt vincent.\+brenz@tuebingen.\+mpg.\+de}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2019-\/05-\/09
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2019 
\end{DoxyCopyright}


\subsection{Function Documentation}
\index{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}!continuous\+\_\+mode\+\_\+off@{continuous\+\_\+mode\+\_\+off}}
\index{continuous\+\_\+mode\+\_\+off@{continuous\+\_\+mode\+\_\+off}!demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}}
\subsubsection[{\texorpdfstring{continuous\+\_\+mode\+\_\+off(real\+\_\+time\+\_\+tools\+::\+Usb\+Stream \&usb\+\_\+stream, bool stream\+\_\+mode)}{continuous_mode_off(real_time_tools::UsbStream &usb_stream, bool stream_mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void continuous\+\_\+mode\+\_\+off (
\begin{DoxyParamCaption}
\item[{{\bf real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&}]{usb\+\_\+stream, }
\item[{bool}]{stream\+\_\+mode}
\end{DoxyParamCaption}
)}\hypertarget{demo__usb__stream__imu__3DM__GX3__25_8cpp_a1d00f7ae49ec05ecaf8ecd4d76129573}{}\label{demo__usb__stream__imu__3DM__GX3__25_8cpp_a1d00f7ae49ec05ecaf8ecd4d76129573}


Set the imu into idle mode. 


\begin{DoxyParams}{Parameters}
{\em usb\+\_\+stream} & \\
\hline
{\em stream\+\_\+mode} & \\
\hline
\end{DoxyParams}
Here we set the I\+MU into a constant broadcasting mode. The broadcasted data are composed with the accelerometer and the gyroscope. \href{https://atlas.is.localnet/confluence/display/AMDW/Microstrain+3DM+IMUs?preview=/8979810/17761244/3DM-GX3-Data-Communications-Protocol.pdf}{\tt https\+://atlas.\+is.\+localnet/confluence/display/\+A\+M\+D\+W/\+Microstrain+3\+D\+M+\+I\+M\+Us?preview=/8979810/17761244/3\+D\+M-\/\+G\+X3-\/\+Data-\/\+Communications-\/\+Protocol.\+pdf}\begin{Desc}
\item[Examples\+: ]\par
\hyperlink{demo_usb_stream_imu_3DM_GX3_25_8cpp-example}{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}.\end{Desc}
\index{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}!continuous\+\_\+mode\+\_\+on@{continuous\+\_\+mode\+\_\+on}}
\index{continuous\+\_\+mode\+\_\+on@{continuous\+\_\+mode\+\_\+on}!demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}}
\subsubsection[{\texorpdfstring{continuous\+\_\+mode\+\_\+on(real\+\_\+time\+\_\+tools\+::\+Usb\+Stream \&usb\+\_\+stream, bool stream\+\_\+mode)}{continuous_mode_on(real_time_tools::UsbStream &usb_stream, bool stream_mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void continuous\+\_\+mode\+\_\+on (
\begin{DoxyParamCaption}
\item[{{\bf real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&}]{usb\+\_\+stream, }
\item[{bool}]{stream\+\_\+mode}
\end{DoxyParamCaption}
)}\hypertarget{demo__usb__stream__imu__3DM__GX3__25_8cpp_af411ef352aef0f8d040d8d60c49eac7a}{}\label{demo__usb__stream__imu__3DM__GX3__25_8cpp_af411ef352aef0f8d040d8d60c49eac7a}


Send the message that set the imu into stream mode or not. 


\begin{DoxyParams}{Parameters}
{\em usb\+\_\+stream} & is the usb interface. \\
\hline
{\em stream\+\_\+mode} & start or stop the stream mode. \\
\hline
\end{DoxyParams}
Here we set the I\+MU into a constant broadcasting mode. The broadcasted data are composed with the accelerometer and the gyroscope. \href{https://atlas.is.localnet/confluence/display/AMDW/Microstrain+3DM+IMUs?preview=/8979810/17761244/3DM-GX3-Data-Communications-Protocol.pdf}{\tt https\+://atlas.\+is.\+localnet/confluence/display/\+A\+M\+D\+W/\+Microstrain+3\+D\+M+\+I\+M\+Us?preview=/8979810/17761244/3\+D\+M-\/\+G\+X3-\/\+Data-\/\+Communications-\/\+Protocol.\+pdf}\begin{Desc}
\item[Examples\+: ]\par
\hyperlink{demo_usb_stream_imu_3DM_GX3_25_8cpp-example}{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}.\end{Desc}
\index{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}!is\+\_\+continuous\+\_\+mode\+\_\+on@{is\+\_\+continuous\+\_\+mode\+\_\+on}}
\index{is\+\_\+continuous\+\_\+mode\+\_\+on@{is\+\_\+continuous\+\_\+mode\+\_\+on}!demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}}
\subsubsection[{\texorpdfstring{is\+\_\+continuous\+\_\+mode\+\_\+on(real\+\_\+time\+\_\+tools\+::\+Usb\+Stream \&usb\+\_\+stream, bool stream\+\_\+mode)}{is_continuous_mode_on(real_time_tools::UsbStream &usb_stream, bool stream_mode)}}]{\setlength{\rightskip}{0pt plus 5cm}bool is\+\_\+continuous\+\_\+mode\+\_\+on (
\begin{DoxyParamCaption}
\item[{{\bf real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&}]{usb\+\_\+stream, }
\item[{bool}]{stream\+\_\+mode}
\end{DoxyParamCaption}
)}\hypertarget{demo__usb__stream__imu__3DM__GX3__25_8cpp_a8a096d7f567dad6d28f0fd870ba6bb43}{}\label{demo__usb__stream__imu__3DM__GX3__25_8cpp_a8a096d7f567dad6d28f0fd870ba6bb43}


Check the mode of the imu. 


\begin{DoxyParams}{Parameters}
{\em usb\+\_\+stream} & usb communication interface. \\
\hline
{\em stream\+\_\+mode} & read the socket in stream mode or not. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true imu is in stream mode 

false imu is in idle mode 
\end{DoxyReturn}
Ask current mode \href{https://atlas.is.localnet/confluence/display/AMDW/Microstrain+3DM+IMUs?preview=/8979810/17761244/3DM-GX3-Data-Communications-Protocol.pdf}{\tt https\+://atlas.\+is.\+localnet/confluence/display/\+A\+M\+D\+W/\+Microstrain+3\+D\+M+\+I\+M\+Us?preview=/8979810/17761244/3\+D\+M-\/\+G\+X3-\/\+Data-\/\+Communications-\/\+Protocol.\+pdf}\begin{Desc}
\item[Examples\+: ]\par
\hyperlink{demo_usb_stream_imu_3DM_GX3_25_8cpp-example}{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}.\end{Desc}
\index{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}!main@{main}}
\index{main@{main}!demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$$\ast$argv)}{main(int argc, char **argv)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{demo__usb__stream__imu__3DM__GX3__25_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{demo__usb__stream__imu__3DM__GX3__25_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}


Example on how to use the usb interface using an imu. 


\begin{DoxyParams}{Parameters}
{\em argc} & \\
\hline
{\em argv} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
The software input is the path to the port\+: /dev/tty0

Initialization, the I\+MU should blink slowly

We create a Usb\+Stream object that will allow us to interact with the dev port.

If you receive some permission denied, please add yourself in the \char`\"{}dialout\char`\"{} group\+: sudo usermod -\/a -\/G dialout \mbox{[}Y\+O\+U\+R\+\_\+\+U\+S\+E\+R\+\_\+\+N\+A\+ME\mbox{]} Ask an admin to do it for you if you do not have the sudo rights.

We need to create some port configuration. These configuration are valid for the I\+MU 3\+D\+M-\/\+G\+X3-\/25 from micro-\/strain initialization.

send some messages\begin{Desc}
\item[Examples\+: ]\par
\hyperlink{demo_usb_stream_imu_3DM_GX3_25_8cpp-example}{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}.\end{Desc}
\index{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}!reset@{reset}}
\index{reset@{reset}!demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp@{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}}
\subsubsection[{\texorpdfstring{reset(real\+\_\+time\+\_\+tools\+::\+Usb\+Stream \&usb\+\_\+stream, bool stream\+\_\+mode)}{reset(real_time_tools::UsbStream &usb_stream, bool stream_mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void reset (
\begin{DoxyParamCaption}
\item[{{\bf real\+\_\+time\+\_\+tools\+::\+Usb\+Stream} \&}]{usb\+\_\+stream, }
\item[{bool}]{stream\+\_\+mode}
\end{DoxyParamCaption}
)}\hypertarget{demo__usb__stream__imu__3DM__GX3__25_8cpp_af04ed9328c659fc57f91d74cdeedda72}{}\label{demo__usb__stream__imu__3DM__GX3__25_8cpp_af04ed9328c659fc57f91d74cdeedda72}


Reset the imu. 


\begin{DoxyParams}{Parameters}
{\em usb\+\_\+stream} & \\
\hline
{\em stream\+\_\+mode} & \\
\hline
\end{DoxyParams}
Device reset\begin{Desc}
\item[Examples\+: ]\par
\hyperlink{demo_usb_stream_imu_3DM_GX3_25_8cpp-example}{demo\+\_\+usb\+\_\+stream\+\_\+imu\+\_\+3\+D\+M\+\_\+\+G\+X3\+\_\+25.\+cpp}.\end{Desc}
