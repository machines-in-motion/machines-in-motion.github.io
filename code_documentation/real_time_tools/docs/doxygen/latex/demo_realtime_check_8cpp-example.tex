\hypertarget{demo_realtime_check_8cpp-example}{}\section{demo\+\_\+realtime\+\_\+check.\+cpp}
This demos has for purpose to present the class \hyperlink{classreal__time__tools_1_1RealTimeCheck}{real\+\_\+time\+\_\+tools\+::\+Real\+Time\+Check}. This class measures the frequency of a loop and compares it with a threshold frequency. As demonstrated below, the class takes as input the desired frequency and the threshold frequency.

In order to enable the measurement of the your loop one need to call the \hyperlink{classreal__time__tools_1_1RealTimeCheck_a83fdf97352d36aa20e482d7dfae442d5}{real\+\_\+time\+\_\+tools\+::\+Real\+Time\+Check\+::tick()} function.

Finally the statistical results can be displayed via the \hyperlink{classreal__time__tools_1_1RealTimeCheck_a9c9c68da79843098085204095286a143}{real\+\_\+time\+\_\+tools\+::\+Real\+Time\+Check\+::print()} methods.


\begin{DoxyCodeInclude}

\textcolor{preprocessor}{#include "\hyperlink{timer_8hpp}{real\_time\_tools/timer.hpp}"}
\textcolor{preprocessor}{#include "\hyperlink{realtime__check_8hpp}{real\_time\_tools/realtime\_check.hpp}"}
\textcolor{preprocessor}{#include "\hyperlink{thread_8hpp}{real\_time\_tools/thread.hpp}"}

THREAD\_FUNCTION\_RETURN\_TYPE \hyperlink{demo__realtime__check_8cpp_a16919b2a4211953c87d405d40b432427}{thread\_function}(\textcolor{keywordtype}{void}*)
\{
  \textcolor{keywordtype}{double} freq = 1000.0; \textcolor{comment}{// 1kz}
  \textcolor{keywordtype}{double} switch\_freq = 990;
  \hyperlink{classreal__time__tools_1_1RealTimeCheck}{real\_time\_tools::RealTimeCheck} rc(freq,switch\_freq);
  \textcolor{keywordtype}{int} nb\_iteration = 10000;
  \textcolor{keywordtype}{int} a = 0;

  printf(\textcolor{stringliteral}{"sleeping time is %f seconds"}, 1.0/freq);

  \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0 ; i<nb\_iteration ; ++i)\{
    rc.\hyperlink{classreal__time__tools_1_1RealTimeCheck_a83fdf97352d36aa20e482d7dfae442d5}{tick}();
    a++;
    \hyperlink{classreal__time__tools_1_1Timer_a0a0df8a3baef34e820203e5579afda38}{real\_time\_tools::Timer::sleep\_sec}(1.0/freq); \textcolor{comment}{// microseconds, so in
       Ghz}
  \}

  printf(\textcolor{stringliteral}{"\(\backslash\)n"});
  rc.\hyperlink{classreal__time__tools_1_1RealTimeCheck_a9c9c68da79843098085204095286a143}{print}();
  printf(\textcolor{stringliteral}{"\(\backslash\)n"});

  \textcolor{keywordflow}{return} THREAD\_FUNCTION\_RETURN\_VALUE;
\}

\textcolor{keywordtype}{int} \hyperlink{demo__realtime__check_8cpp_a81ce304348a420752ee080480d2b3095}{main}(\textcolor{keywordtype}{int} , \textcolor{keywordtype}{char}* []) \{
  \hyperlink{classreal__time__tools_1_1RealTimeThread}{real\_time\_tools::RealTimeThread} thread;
  thread.\hyperlink{classreal__time__tools_1_1RealTimeThread_a232e3955fee6e80c3a7ded68f165414b}{create\_realtime\_thread}(\hyperlink{demo__realtime__check_8cpp_a16919b2a4211953c87d405d40b432427}{thread\_function});
  thread.\hyperlink{classreal__time__tools_1_1RealTimeThread_a2f455db9fd80b81e5e69cd22e8529979}{join}();
\}

\end{DoxyCodeInclude}
 