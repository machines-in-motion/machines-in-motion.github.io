\subsection*{Introduction}

We define here a couple of useful macros to ease the management of the \href{https://developers.google.com/protocol-buffers/}{\tt Protobuf} message code generation.

\subsection*{Usage}

This C\+Make module provide 2 macros that both work in collaboration with Catkin. Both macros will provide the generated C++ message source files. In addition to this one can generate the Python files by setting the following C\+Make variable\+: \begin{DoxyVerb}set(PROTOBUF_COMPILE_PYTHON ON)
\end{DoxyVerb}


These files will be installed in the correct Python directory.

\subsubsection*{Generic macro}

The first macro is a generic purpose macro which can be used in any project. \begin{DoxyVerb}protobuf_catkin_generate_cpp(src_path srcs hdrs)
\end{DoxyVerb}


This macro takes the path to the folder in which you stored you {\ttfamily $\ast$.proto} files. This path is relative to your project path.

This macro then fills in the {\ttfamily S\+R\+CS} and {\ttfamily H\+D\+RS} variables with the generated C++ sources generated from the protobuf generator.

One then need to build this files by hand by creating a library.

\subsubsection*{Specific project architecture macro}

This macro expect that you have put the {\ttfamily $\ast$.proto} files in the {\ttfamily protobuf} folder located in your project root {\ttfamily P\+R\+O\+J\+E\+C\+T\+\_\+\+P\+A\+T\+H/protobuf/}. Then calling\+: \begin{DoxyVerb}protobuf_catkin_generate_lib(my_protobuff_messages)
\end{DoxyVerb}


Will create the C\+Make target {\ttfamily my\+\_\+protobuff\+\_\+messages} which you can depend on\+: \begin{DoxyVerb}target_link_libraries(my_target my_protobuff_messages)\end{DoxyVerb}
 