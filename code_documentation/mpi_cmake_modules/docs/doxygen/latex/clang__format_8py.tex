\hypertarget{clang__format_8py}{}\section{python/mpi\+\_\+cmake\+\_\+modules/clang\+\_\+format.py File Reference}
\label{clang__format_8py}\index{python/mpi\+\_\+cmake\+\_\+modules/clang\+\_\+format.\+py@{python/mpi\+\_\+cmake\+\_\+modules/clang\+\_\+format.\+py}}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacempi__cmake__modules_1_1clang__format_1_1py}{mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+py}
\begin{DoxyCompactList}\small\item\em Utility functions for creating formatting script based on clang. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{clang__format_8py_afe8dc8c8d15623fc93c48e51f5814787}{mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+find\+\_\+clang\+\_\+format} (name\+\_\+list=\mbox{[}\textquotesingle{}clang-\/format\textquotesingle{}\mbox{]})
\begin{DoxyCompactList}\small\item\em Find the full path to the clang-\/format executable. \end{DoxyCompactList}\item 
def \hyperlink{clang__format_8py_a9d5af1fa13452a51570bb28d245d5d79}{mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+load\+\_\+clang\+\_\+format\+\_\+config} ()
\begin{DoxyCompactList}\small\item\em Look for the clang-\/formt parameter file in this package. \end{DoxyCompactList}\item 
def \hyperlink{clang__format_8py_a9768c9300934448be2a773e8c8d2df0b}{mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+test\+\_\+valid\+\_\+file} (filename, extensions)
\begin{DoxyCompactList}\small\item\em Test if the input file exists and is of one of the provided extension. \end{DoxyCompactList}\item 
def {\bfseries mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+get\+\_\+absolute\+\_\+path} (file\+\_\+or\+\_\+directory)\hypertarget{clang__format_8py_ad59764370ac726bc399da6336b6b64d3}{}\label{clang__format_8py_ad59764370ac726bc399da6336b6b64d3}

\item 
def \hyperlink{clang__format_8py_a45f75cf60b9373143390257a3ef49214}{mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+list\+\_\+of\+\_\+files\+\_\+to\+\_\+format} (files\+\_\+or\+\_\+directories, extensions)
\begin{DoxyCompactList}\small\item\em Get the list of files to format exploring the input arguments. \end{DoxyCompactList}\item 
def \hyperlink{clang__format_8py_aa7bc2c584f93ba6d7345a544824a146d}{mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+execute\+\_\+clang\+\_\+format} (clang\+\_\+format\+\_\+bin, clang\+\_\+format\+\_\+config, clang\+\_\+format\+\_\+arg)
\begin{DoxyCompactList}\small\item\em Execute the formatting of C/\+C++ files using clang-\/format. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{clang__format_8py_a69c93a1da52a27430c5c942c41070465}{mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+which} = distutils.\+spawn.\+find\+\_\+executable\hypertarget{clang__format_8py_a69c93a1da52a27430c5c942c41070465}{}\label{clang__format_8py_a69c93a1da52a27430c5c942c41070465}

\begin{DoxyCompactList}\small\item\em This ensure the compatibility Python2 vs Python3. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyRefDesc}{License}
\item[\hyperlink{license__license000002}{License}]License B\+S\+D-\/3-\/\+Clause \end{DoxyRefDesc}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2019, New York University and Max Planck Gesellschaft. 
\end{DoxyCopyright}


\subsection{Function Documentation}
\index{clang\+\_\+format.\+py@{clang\+\_\+format.\+py}!execute\+\_\+clang\+\_\+format@{execute\+\_\+clang\+\_\+format}}
\index{execute\+\_\+clang\+\_\+format@{execute\+\_\+clang\+\_\+format}!clang\+\_\+format.\+py@{clang\+\_\+format.\+py}}
\subsubsection[{\texorpdfstring{execute\+\_\+clang\+\_\+format(clang\+\_\+format\+\_\+bin, clang\+\_\+format\+\_\+config, clang\+\_\+format\+\_\+arg)}{execute_clang_format(clang_format_bin, clang_format_config, clang_format_arg)}}]{\setlength{\rightskip}{0pt plus 5cm}def mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+execute\+\_\+clang\+\_\+format (
\begin{DoxyParamCaption}
\item[{}]{clang\+\_\+format\+\_\+bin, }
\item[{}]{clang\+\_\+format\+\_\+config, }
\item[{}]{clang\+\_\+format\+\_\+arg}
\end{DoxyParamCaption}
)}\hypertarget{clang__format_8py_file_aa7bc2c584f93ba6d7345a544824a146d}{}\label{clang__format_8py_file_aa7bc2c584f93ba6d7345a544824a146d}


Execute the formatting of C/\+C++ files using clang-\/format. 

Get the path to the executable, and run it using the clang-\/format insput paramter on the list of files to format.


\begin{DoxyParams}{Parameters}
{\em clang\+\_\+format\+\_\+bin} & list(str) {\ttfamily -\/-\/} Path to the clang-\/format binary. \\
\hline
{\em clang\+\_\+format\+\_\+config} & list(str) {\ttfamily -\/-\/} One line dictionnary string containing the clang-\/format parameters. \\
\hline
{\em clang\+\_\+format\+\_\+arg} & list(str) {\ttfamily -\/-\/} List of source files to parse. \\
\hline
\end{DoxyParams}
\index{clang\+\_\+format.\+py@{clang\+\_\+format.\+py}!find\+\_\+clang\+\_\+format@{find\+\_\+clang\+\_\+format}}
\index{find\+\_\+clang\+\_\+format@{find\+\_\+clang\+\_\+format}!clang\+\_\+format.\+py@{clang\+\_\+format.\+py}}
\subsubsection[{\texorpdfstring{find\+\_\+clang\+\_\+format(name\+\_\+list=[\textquotesingle{}clang-\/format\textquotesingle{}])}{find_clang_format(name_list=['clang-format'])}}]{\setlength{\rightskip}{0pt plus 5cm}def mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+find\+\_\+clang\+\_\+format (
\begin{DoxyParamCaption}
\item[{}]{name\+\_\+list = {\ttfamily \mbox{[}\textquotesingle{}clang-\/format\textquotesingle{}\mbox{]}}}
\end{DoxyParamCaption}
)}\hypertarget{clang__format_8py_file_afe8dc8c8d15623fc93c48e51f5814787}{}\label{clang__format_8py_file_afe8dc8c8d15623fc93c48e51f5814787}


Find the full path to the clang-\/format executable. 

Look by default for the {\ttfamily clang-\/format} executable in the P\+A\+TH environment variable.


\begin{DoxyParams}{Parameters}
{\em name\+\_\+list} & list(str) {\ttfamily -\/-\/} Potential executable names which might differ according to the clang-\/format version availbale.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The full path to the clang-\/format executable. 
\end{DoxyReturn}
\index{clang\+\_\+format.\+py@{clang\+\_\+format.\+py}!list\+\_\+of\+\_\+files\+\_\+to\+\_\+format@{list\+\_\+of\+\_\+files\+\_\+to\+\_\+format}}
\index{list\+\_\+of\+\_\+files\+\_\+to\+\_\+format@{list\+\_\+of\+\_\+files\+\_\+to\+\_\+format}!clang\+\_\+format.\+py@{clang\+\_\+format.\+py}}
\subsubsection[{\texorpdfstring{list\+\_\+of\+\_\+files\+\_\+to\+\_\+format(files\+\_\+or\+\_\+directories, extensions)}{list_of_files_to_format(files_or_directories, extensions)}}]{\setlength{\rightskip}{0pt plus 5cm}def mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+list\+\_\+of\+\_\+files\+\_\+to\+\_\+format (
\begin{DoxyParamCaption}
\item[{}]{files\+\_\+or\+\_\+directories, }
\item[{}]{extensions}
\end{DoxyParamCaption}
)}\hypertarget{clang__format_8py_file_a45f75cf60b9373143390257a3ef49214}{}\label{clang__format_8py_file_a45f75cf60b9373143390257a3ef49214}


Get the list of files to format exploring the input arguments. 

Explore recursively the directories given in the input list and create a list of all files. Add to this list the files given in the input list. Sort out the files that are source-\/files or not and return the list of source files.


\begin{DoxyParams}{Parameters}
{\em files\+\_\+or\+\_\+directories} & list(str) {\ttfamily -\/-\/} List of files or directories.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the file ends with one of the following extension 
\begin{DoxyCode}
1 (\textcolor{stringliteral}{".h"}, \textcolor{stringliteral}{".c"}, \textcolor{stringliteral}{".hh"}, \textcolor{stringliteral}{".cc"}, \textcolor{stringliteral}{".hpp"}, \textcolor{stringliteral}{".cpp"}, \textcolor{stringliteral}{".hxx"}, \textcolor{stringliteral}{".cxx"})
\end{DoxyCode}
 False otherwise. 
\end{DoxyReturn}
\index{clang\+\_\+format.\+py@{clang\+\_\+format.\+py}!load\+\_\+clang\+\_\+format\+\_\+config@{load\+\_\+clang\+\_\+format\+\_\+config}}
\index{load\+\_\+clang\+\_\+format\+\_\+config@{load\+\_\+clang\+\_\+format\+\_\+config}!clang\+\_\+format.\+py@{clang\+\_\+format.\+py}}
\subsubsection[{\texorpdfstring{load\+\_\+clang\+\_\+format\+\_\+config()}{load_clang_format_config()}}]{\setlength{\rightskip}{0pt plus 5cm}def mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+load\+\_\+clang\+\_\+format\+\_\+config (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{clang__format_8py_file_a9d5af1fa13452a51570bb28d245d5d79}{}\label{clang__format_8py_file_a9d5af1fa13452a51570bb28d245d5d79}


Look for the clang-\/formt parameter file in this package. 

Look for the \+\_\+clang-\/format file located in this package and convert it in a one line dictionnary string.

\begin{DoxyReturn}{Returns}
The \+\_\+clang-\/format in a online dictionnary string. 
\end{DoxyReturn}
\index{clang\+\_\+format.\+py@{clang\+\_\+format.\+py}!test\+\_\+valid\+\_\+file@{test\+\_\+valid\+\_\+file}}
\index{test\+\_\+valid\+\_\+file@{test\+\_\+valid\+\_\+file}!clang\+\_\+format.\+py@{clang\+\_\+format.\+py}}
\subsubsection[{\texorpdfstring{test\+\_\+valid\+\_\+file(filename, extensions)}{test_valid_file(filename, extensions)}}]{\setlength{\rightskip}{0pt plus 5cm}def mpi\+\_\+cmake\+\_\+modules.\+clang\+\_\+format.\+test\+\_\+valid\+\_\+file (
\begin{DoxyParamCaption}
\item[{}]{filename, }
\item[{}]{extensions}
\end{DoxyParamCaption}
)}\hypertarget{clang__format_8py_file_a9768c9300934448be2a773e8c8d2df0b}{}\label{clang__format_8py_file_a9768c9300934448be2a773e8c8d2df0b}


Test if the input file exists and is of one of the provided extension. 


\begin{DoxyParams}{Parameters}
{\em filename} & str {\ttfamily -\/-\/} Path to the file to test. \\
\hline
{\em extensions} & iterable of accepted extensions (str)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the file exits and ends with one of the extension. False otherwise. 
\end{DoxyReturn}
