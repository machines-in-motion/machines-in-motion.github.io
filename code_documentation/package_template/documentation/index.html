

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Welcome to package_template’s documentation! &mdash; package_template 2.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="General Documentation" href="general_documentation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> package_template
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">General Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="general_documentation.html">General Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="doxygen_index.html">C++ API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">package_template</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">package_template</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to package_template’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="welcome-to-package-template-s-documentation">
<h1>Welcome to package_template’s documentation!<a class="headerlink" href="#welcome-to-package-template-s-documentation" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://github.com/machines-in-motion/package_template/actions/workflows/deploy_doc.yml"><img alt="check_main_branch_and_deploy_doc" src="https://github.com/machines-in-motion/package_template/actions/workflows/deploy_doc.yml/badge.svg?branch=master" /></a></p>
<section id="package-template">
<h2>package_template<a class="headerlink" href="#package-template" title="Permalink to this heading">¶</a></h2>
<p>This repository is a tutorial on how to package C++ and python code together.
The convention presented are to be followed by people in the
<a class="reference external" href="https://wp.nyu.edu/machinesinmotion/">machines-in-motion</a> group.</p>
<p>In particular it contains the examples for:</p>
<ul class="simple">
<li><p>Packaging C++ and Python code in one repository.</p></li>
<li><p>How to build C++ code and package it with <a class="reference external" href="https://cmake.org/">CMake</a> + <a class="reference external" href="https://github.com/machines-in-motion/mpi_cmake_modules">mpi_cmake_module</a>.</p></li>
<li><p>How to write a PID controller in C++</p></li>
<li><p>How to write a PID controller in Python</p></li>
<li><p>How to write Python bindings over the C++ code using <a class="reference external" href="https://github.com/pybind/pybind11">Pybind11</a></p></li>
<li><p>How to write unit-tests in C++ and Python.</p></li>
<li><p>How to deal with YAML configuration files from C++ or Python.</p></li>
<li><p>How to use ROS1 parameters (deprecated, privilege ROS2 param).</p></li>
<li><p>How to write C++ and Python demos of the code.</p></li>
<li><p>How to write the API documentation using:</p>
<ul>
<li><p>Doxygen docstring for C++,</p></li>
<li><p>Google docstring for Python,</p></li>
<li><p>Markdown or Restructured text for generic documentation.</p></li>
</ul>
</li>
</ul>
<p>A tutorial on how to write CMakeLists.txt is also available here:
https://github.com/machines-in-motion/machines-in-motion.github.io/wiki/use_cmake</p>
<section id="installation">
<h3>Installation:<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h3>
<section id="standard-dependencies">
<h4>Standard dependencies:<a class="headerlink" href="#standard-dependencies" title="Permalink to this heading">¶</a></h4>
<p>This package depend externally on:</p>
<ul class="simple">
<li><p>mpi_cmake_module for the build system (see next paragraph)</p></li>
<li><p>pybind11 for the python bindings (see next paragraph)</p></li>
<li><p>yaml_utils for the yaml parsing in C++ (see next paragraph)</p></li>
<li><p>googletest for the C++ unit tests (see next paragraph)</p></li>
<li><p>pytest for the Python unit tests.</p></li>
</ul>
<p>The mpi_cmake_module will ask for dependencies when building the documentation,
see the <a class="reference external" href="https://github.com/machines-in-motion/mpi_cmake_modules/blob/master/requirements.txt">requirements.txt</a></p>
<p>In short for the external dependencies without the doc ones:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">libyaml</span><span class="o">-</span><span class="n">cpp</span><span class="o">-</span><span class="n">dev</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">pytest</span>
</pre></div>
</div>
</section>
<section id="download-the-package">
<h4>Download the package:<a class="headerlink" href="#download-the-package" title="Permalink to this heading">¶</a></h4>
<p>Preferably use <a class="reference external" href="https://gitlab.is.tue.mpg.de/amd-clmc/treep">treep</a>
with the
<a class="reference external" href="https://github.com/machines-in-motion/treep_machines_in_motion">treep_machines_in_motion</a>
configuration.</p>
<p>**Note: ** do not forget to <em>register your ssh public key in your settings</em>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">~/</span><span class="n">devel</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">treep</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">devel</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">machines</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">motion</span><span class="o">/</span><span class="n">treep_machines_in_motion</span><span class="o">.</span><span class="n">git</span>
<span class="n">treep</span> <span class="o">--</span><span class="n">clone</span> <span class="n">PACKAGE_TEMPLATE</span>
</pre></div>
</div>
</section>
<section id="build-the-package">
<h4>Build the package<a class="headerlink" href="#build-the-package" title="Permalink to this heading">¶</a></h4>
<p>We use <a class="reference external" href="https://github.com/machines-in-motion/machines-in-motion.github.io/wiki/use_colcon">colcon</a>
to build this package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">~/</span><span class="n">devel</span><span class="o">/</span><span class="n">workspace</span>
<span class="n">colcon</span> <span class="n">build</span>
</pre></div>
</div>
</section>
</section>
<section id="usage">
<h3>Usage:<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h3>
<section id="demos-examples">
<h4>Demos/Examples<a class="headerlink" href="#demos-examples" title="Permalink to this heading">¶</a></h4>
<p>The purpose of the this code is for user to read it.
But you can still start the demos compiled with this package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package_template_demo_pid</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package_template_demo_pid_load_from_file</span>
</pre></div>
</div>
<p>See the <a class="reference external" href="https://github.com/machines-in-motion/package_template/tree/master/demos">source files</a></p>
</section>
<section id="api-documentation">
<h4>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this heading">¶</a></h4>
<p>Building the documentation locally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">colcon</span> <span class="n">build</span> <span class="o">--</span><span class="n">packages</span><span class="o">-</span><span class="n">select</span> <span class="n">package_template</span> <span class="o">--</span><span class="n">cmake</span><span class="o">-</span><span class="n">args</span> <span class="o">-</span><span class="n">DGENERATE_DOCUMENTATION</span><span class="o">=</span><span class="n">ON</span>
</pre></div>
</div>
<p>A pre-built documentation can be seen here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">machines</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">motion</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">code_documentation</span><span class="o">/</span><span class="n">package_template</span>
</pre></div>
</div>
</section>
</section>
<section id="license-and-copyrights">
<h3>License and Copyrights<a class="headerlink" href="#license-and-copyrights" title="Permalink to this heading">¶</a></h3>
<p>License BSD-3-Clause
Copyright (c) 2021, New York University and Max Planck Gesellschaft.</p>
</section>
</section>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">General Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="general_documentation.html">General Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc/1.general_rules.html">1. General rules applied in the code base</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc/2.cpp_coding_guidelines.html">2. C++ Coding Guidelines</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="doxygen_index.html">C++ API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="breathe_apidoc/classlist.html">Class list</a></li>
<li class="toctree-l2"><a class="reference internal" href="breathe_apidoc/filelist.html">File list</a></li>
<li class="toctree-l2"><a class="reference internal" href="breathe_apidoc/namespacelist.html">Namespace list</a></li>
<li class="toctree-l2"><a class="reference internal" href="doxygen_index_one_page.html">C++ API and example</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">package_template</a><ul>
<li class="toctree-l2"><a class="reference internal" href="package_template.html">package_template package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="package_template.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="package_template.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
</ul>
<section id="indices-and-tables">
<h2>Indices and Tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
<section id="license-and-copyrights">
<h2>License and Copyrights<a class="headerlink" href="#license-and-copyrights" title="Permalink to this heading">¶</a></h2>
<p>BSD 3-Clause License</p>
<p>Copyright (c) 2019, New York University and Max Planck Gesellschaft.
All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<ol class="arabic simple">
<li><p>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</p></li>
<li><p>Neither the name of the copyright holder nor the names of its
contributors may be used to endorse or promote products derived from
this software without specific prior written permission.</p></li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS”
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="general_documentation.html" class="btn btn-neutral float-right" title="General Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright .

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>